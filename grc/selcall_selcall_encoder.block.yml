id: selcall_selcall_encoder
label: Selcall Encoder
category: '[SelCall]'

templates:
  imports: from gnuradio import selcall
  make: >
    selcall.selcall_encoder(
        sample_rate=${sample_rate},
        protocol=${protocol},
        amplitude=${amplitude},
        own_id=${own_id}
    )
    

parameters:
- id: protocol
  label: Protocol
  dtype: string
  default: 'ZVEI-1'
  options: ['ZVEI-1', 'ZVEI-2', 'CCIR-1', 'CCIR-2', 'PCCIR']
  option_labels: ['ZVEI-1', 'ZVEI-2', 'CCIR-1', 'CCIR-2', 'PCCIR']

- id: own_id
  label: Personal Code (Source)
  dtype: string
  default: '12345'

- id: amplitude
  label: Amplitude
  dtype: float
  default: 0.8

- id: sample_rate
  label: Sample Rate
  dtype: int
  default: samp_rate

# Input: Solo messaggi (asincrono)
inputs:
- label: msg_in
  domain: message
  id: msg_in
  optional: false

# Output: Stream audio (float)
outputs:
- label: audio_out
  domain: stream
  dtype: float

- label: ptt_out
  id: ptt_out
  domain: message
  optional: true

file_format: 1